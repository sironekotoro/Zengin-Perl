#!/usr/bin/env perl
use strict;
use warnings;
use utf8;
use Encode qw/decode_utf8/;
binmode STDOUT, ":utf8";

use Zengin::Perl;

chomp $ARGV[0];

my $zp = Zengin::Perl->new();

if ( $ARGV[0] =~ /\d+/ ) {
    my $bank = $zp->bank( bank_code => $ARGV[0] );
    printf( "銀行コード: %s\n",             $bank->code );
    printf( "銀行名: %s\n",                   $bank->name );
    printf( "銀行名（ひらがな）: %s\n", $bank->hira );
    printf( "銀行名（カタカナ）: %s\n", $bank->kana );
    printf( "銀行名（ローマ字）: %s\n", $bank->roma );
}
else {
    my $search_result = $zp->search( decode_utf8( $ARGV[0] ) );
    for my $bank ( @{$search_result} ) {
        printf( "%s: %s\n", $bank->code, $bank->name );
    }
}
